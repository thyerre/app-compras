<div class="form-page px-4">
  <div class="mb-4">
    <h1 class="text-xl font-semibold text-gray-800 m-0">{{ isEditMode() ? 'Editar Contribuinte' : 'Novo Contribuinte' }}</h1>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
    <!-- Dados Pessoais -->
    <div class="bg-white rounded-lg border border-gray-200 p-5">
      <div class="flex items-center gap-2 mb-4">
        <mat-icon class="text-gray-500">person</mat-icon>
        <h2 class="text-base font-semibold text-gray-700 m-0">Dados do Contribuinte</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <app-select label="Tipo Pessoa" formControlName="tipoPessoa" [options]="tipoPessoaOptions()"></app-select>
        <app-input label="CPF/CNPJ" formControlName="cpfCnpj"></app-input>
        <app-input label="Nome / Razão Social" formControlName="nomeRazaoSocial" class="lg:col-span-2"></app-input>
        <app-input label="Nome Fantasia" formControlName="nomeFantasia"></app-input>
        <app-input label="Inscrição Municipal" formControlName="inscricaoMunicipal"></app-input>
        <app-input label="E-mail" formControlName="email" type="email"></app-input>
        <app-input label="Telefone" formControlName="telefone"></app-input>
        <app-input label="Celular" formControlName="celular"></app-input>
      </div>
    </div>

    <!-- Endereço -->
    <div class="bg-white rounded-lg border border-gray-200 p-5">
      <div class="flex items-center gap-2 mb-4">
        <mat-icon class="text-gray-500">location_on</mat-icon>
        <h2 class="text-base font-semibold text-gray-700 m-0">Endereço</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <app-input label="CEP" formControlName="cep"></app-input>
        <app-input label="Logradouro" formControlName="logradouro" class="lg:col-span-2"></app-input>
        <app-input label="Número" formControlName="numero"></app-input>
        <app-input label="Complemento" formControlName="complemento"></app-input>
        <app-input label="Bairro" formControlName="bairro"></app-input>
        <app-input label="Município (ID)" formControlName="municipioId" type="number"></app-input>
        <app-input label="Estado (ID)" formControlName="estadoId" type="number"></app-input>
      </div>
    </div>

    <!-- Configuração -->
    <div class="bg-white rounded-lg border border-gray-200 p-5">
      <div class="flex items-center gap-2 mb-4">
        <mat-icon class="text-gray-500">settings</mat-icon>
        <h2 class="text-base font-semibold text-gray-700 m-0">Configuração</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <app-select label="Ativo" formControlName="ativo" [options]="ativoOptions()"></app-select>
        <app-input label="Observações" formControlName="observacoes" class="lg:col-span-3"></app-input>
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex justify-end gap-3 py-4">
      <app-button label="Cancelar" variant="stroked" type="button" (clicked)="onCancel()"></app-button>
      <app-button label="Salvar" variant="raised" color="primary" type="submit" [disabled]="saving()"></app-button>
    </div>
  </form>
</div>
